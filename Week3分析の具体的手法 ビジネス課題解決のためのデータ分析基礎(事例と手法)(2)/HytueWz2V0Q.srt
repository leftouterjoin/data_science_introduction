0
00:00:01,589 --> 00:00:04,280
皆さんこんにちは

1
00:00:04,280 --> 00:00:09,660
今回は散布図と相関の調べ方を一緒に学習しましょう

2
00:00:10,689 --> 00:00:15,310
量的変数間の関係性を調べる最も簡便で詳細な方法は

3
00:00:15,310 --> 00:00:17,669
散布図を描くことです

4
00:00:17,669 --> 00:00:21,029
前回のクロス集計は計数データが対象でしたが

5
00:00:21,029 --> 00:00:23,629
今回は計量データが対象という違いで

6
00:00:23,629 --> 00:00:26,159
やりたいことは同じです

7
00:00:26,159 --> 00:00:31,299
散布図は2つの変数をそれぞれX軸Y軸として

8
00:00:31,300 --> 00:00:35,240
1レコードごとの座標を点で示します

9
00:00:35,250 --> 00:00:40,000
下の図のようなAのような線形の関係だけでなく

10
00:00:40,000 --> 00:00:42,380
B非線形の関係

11
00:00:42,380 --> 00:00:44,550
C離散的な関係

12
00:00:44,550 --> 00:00:47,670
そしてD外れ値を含む関係のように

13
00:00:47,670 --> 00:00:51,300
様々な関係性を観察することができます

14
00:00:51,300 --> 00:00:58,160
なおこのあとはAとDを中心に考えていきます

15
00:01:00,280 --> 00:01:02,900
相関には3つのパターンがあり

16
00:01:02,900 --> 00:01:07,120
散布図で描くとそれぞれ特徴的な形を描きます

17
00:01:07,120 --> 00:01:09,580
ある変数が増大すればするほど

18
00:01:09,580 --> 00:01:12,100
もう一方の変数が増大する相関を

19
00:01:12,100 --> 00:01:15,530
正の相関と言います

20
00:01:15,530 --> 00:01:18,680
逆にある変数が増大すればするほど

21
00:01:18,680 --> 00:01:21,170
もう一方の変数が減少する相関を

22
00:01:21,170 --> 00:01:24,120
負の相関と言います

23
00:01:24,120 --> 00:01:26,909
そしてある変数が増大しても

24
00:01:26,909 --> 00:01:28,390
もう一方の変数は

25
00:01:28,390 --> 00:01:33,130
無関係な値をとることを相関なしと言います

26
00:01:34,700 --> 00:01:38,140
この2つの変数の関係に関する統計量のことを

27
00:01:38,140 --> 00:01:41,040
相関係数と言います

28
00:01:41,050 --> 00:01:44,270
相関の強さの絶対的な基準はありませんが

29
00:01:44,270 --> 00:01:47,480
一般的には以下のように

30
00:01:47,490 --> 00:01:50,200
0から0.1の間は無相関

31
00:01:50,200 --> 00:01:53,770
0.1から0.3の間は弱い正の相関

32
00:01:53,770 --> 00:01:57,530
0.3から0.7の間は中程度の正の相関

33
00:01:57,530 --> 00:02:00,400
0.7から1の間は強い正の相関

34
00:02:00,400 --> 00:02:03,610
というように捉えられたりしているようです

35
00:02:03,610 --> 00:02:06,750
しかし適用分野や目的によって変わりますので

36
00:02:06,750 --> 00:02:09,430
あくまで目安としてください

37
00:02:11,539 --> 00:02:16,179
このように相関係数が関係性を表す統計量だから

38
00:02:16,180 --> 00:02:17,580
散布図を作らず

39
00:02:17,580 --> 00:02:19,999
直接相関係数を計算すればいいじゃないか

40
00:02:19,999 --> 00:02:21,869
と思われるかもしれませんが

41
00:02:21,869 --> 00:02:24,949
散布図で目で見て確認するということは

42
00:02:24,949 --> 00:02:27,120
とても重要です

43
00:02:27,120 --> 00:02:31,820
例えば相関係数だけを見て相関が高いと

44
00:02:31,820 --> 00:02:35,340
例1のように判断しましたが

45
00:02:37,280 --> 00:02:42,200
実は外れ値1点だけの影響であったとか

46
00:02:42,209 --> 00:02:43,980
あとは例2のように

47
00:02:43,980 --> 00:02:47,360
無相関だと思っていたけれども

48
00:02:48,749 --> 00:02:52,059
こちらをグループ分けしてみると相関がみられた

49
00:02:52,059 --> 00:02:55,419
などということがあります

50
00:02:55,419 --> 00:02:57,699
相関係数の値を過信せず

51
00:02:57,700 --> 00:03:02,040
散布図を注意深く観察することが必要です

52
00:03:03,120 --> 00:03:06,260
ではどのように散布図での分析を進めるか

53
00:03:06,260 --> 00:03:09,320
次に例題を使って見ていきましょう

54
00:03:09,329 --> 00:03:15,249
こちらは水稲の作付面積と収穫量データです

55
00:03:15,249 --> 00:03:19,289
作付面積と収穫量に関係性はあるでしょうか

56
00:03:20,329 --> 00:03:23,169
散布図を描いてみると

57
00:03:25,620 --> 00:03:30,699
このように2変数に右上がりの線形の関係が見えます

58
00:03:30,699 --> 00:03:33,269
相関係数を算出すると

59
00:03:33,269 --> 00:03:35,559
r=0.65

60
00:03:35,559 --> 00:03:39,559
中程度の正の相関が見られます

61
00:03:39,559 --> 00:03:43,869
これだけでは面白くないので掘り下げてみましょう

62
00:03:43,869 --> 00:03:48,509
よく見ると他の値よりも外れている点があります

63
00:03:51,629 --> 00:03:55,569
この外れ値を除いてみると

64
00:03:55,569 --> 00:04:01,229
r=0.92と強い正の相関が見られます

65
00:04:01,229 --> 00:04:03,729
ではその1点は何だったのか

66
00:04:03,729 --> 00:04:05,720
ということを調べてみますと

67
00:04:06,149 --> 00:04:10,509
異常な冷夏の年のデータだったと分かりました

68
00:04:13,299 --> 00:04:15,539
まだまだこれで終わると

69
00:04:15,540 --> 00:04:17,960
で何となってしまいますので

70
00:04:17,969 --> 00:04:20,549
仮説をとにかく出すという観点で

71
00:04:20,548 --> 00:04:23,060
今から発散してみましょう

72
00:04:23,069 --> 00:04:26,770
今回冷夏で下がるというのは分かったのですが

73
00:04:26,770 --> 00:04:30,610
この1点のデータを地域であったりとか

74
00:04:30,610 --> 00:04:33,140
あとは品種といったデータで

75
00:04:33,140 --> 00:04:35,520
細かく分けてみますと

76
00:04:35,520 --> 00:04:38,259
この1点を複数の点に分けることができます

77
00:04:38,259 --> 00:04:41,519
このようにデータの粒度を細かくすれば

78
00:04:41,529 --> 00:04:44,830
同じ冷夏でも収穫量が多く

79
00:04:44,830 --> 00:04:47,530
収穫量に影響が少ない地域もあれば

80
00:04:47,530 --> 00:04:50,340
多い地域も見えてくることになると思います

81
00:04:50,349 --> 00:04:51,760
それを見つけて

82
00:04:51,760 --> 00:04:54,499
なぜその地域では影響を下げられたのか

83
00:04:54,499 --> 00:04:56,419
その品種では影響を下げられたのか

84
00:04:56,420 --> 00:04:57,919
といったことを考えますと

85
00:04:57,920 --> 00:05:01,140
良い品種や土壌のヒントを探せそうじゃないか

86
00:05:01,140 --> 00:05:02,540
であったり

87
00:05:02,540 --> 00:05:09,380
あとは作付面積と収穫高が相関するというのは

88
00:05:09,389 --> 00:05:12,819
なんとなく当たり前のような話の気がしますので

89
00:05:12,819 --> 00:05:15,539
それより同じ作付面積でも

90
00:05:15,540 --> 00:05:18,259
収穫高がばらついていることが分かります

91
00:05:18,259 --> 00:05:21,219
ここに着目してこのばらつきを

92
00:05:21,220 --> 00:05:24,580
地域などでグループ分けして見てみたり

93
00:05:24,580 --> 00:05:26,900
あとは今度は縦軸に

94
00:05:26,909 --> 00:05:30,820
作付面積あたりの収穫高というものを取りまして

95
00:05:30,820 --> 00:05:34,780
どんな横軸にすると相関が高いかを考えることで

96
00:05:34,789 --> 00:05:39,049
ばらつきの要因を分析できないか考えてみたり

97
00:05:39,049 --> 00:05:42,760
あと今回は相関が高いということから

98
00:05:42,760 --> 00:05:45,760
収穫高を高めるには

99
00:05:45,770 --> 00:05:48,240
作付面積を大きくすればいいかも

100
00:05:48,240 --> 00:05:50,940
ということがヒントとして得られるのですが

101
00:05:50,940 --> 00:05:55,240
ただ収穫高を高めるために作付面積を変更できる

102
00:05:55,240 --> 00:05:58,139
という人は非常に限られてしまいますので

103
00:05:58,140 --> 00:06:02,680
他にも上げたい目的である収穫高に対して

104
00:06:02,689 --> 00:06:06,069
相関が高くかつ操作がしやすいような

105
00:06:06,069 --> 00:06:08,389
別の横軸はないかなと考えてみる

106
00:06:08,389 --> 00:06:10,380
などはいかがでしょうか

107
00:06:11,460 --> 00:06:13,070
ちょっと整理してみますと

108
00:06:13,070 --> 00:06:16,419
3パターンのドリルダウンを考えてきました

109
00:06:16,419 --> 00:06:20,360
1つはX軸とY軸を変えてみること

110
00:06:20,360 --> 00:06:23,119
2つ目はデータを

111
00:06:23,119 --> 00:06:26,759
2から3のグループ分けして比較してみること

112
00:06:26,759 --> 00:06:28,540
またデータそのものを

113
00:06:28,540 --> 00:06:32,680
もっと細かい単位に変えてみることです

114
00:06:32,689 --> 00:06:35,129
データを見る際に着目した点は

115
00:06:35,129 --> 00:06:39,660
相関が高いのは何故かを考えることであったり

116
00:06:39,660 --> 00:06:43,340
外れ値はなぜ外れたのかを考えることであったり

117
00:06:43,349 --> 00:06:45,940
なぜデータがばらついているのかを

118
00:06:45,940 --> 00:06:48,240
考えるということをやってきました

119
00:06:48,240 --> 00:06:52,060
このようにただデータを散布図にするだけでなく

120
00:06:52,070 --> 00:06:54,500
その後仮説を立てながら

121
00:06:54,500 --> 00:06:57,160
何回も繰り返して分析していくことによって

122
00:06:57,160 --> 00:07:00,280
いろんな意味を見出すことができます

123
00:07:02,659 --> 00:07:06,300
こちらはTipsになりますが

124
00:07:06,300 --> 00:07:09,729
この図のような2変数の相関係数を算出する場合

125
00:07:09,729 --> 00:07:16,309
Excel関数のCORREL(コレル)で算出することができます

126
00:07:19,069 --> 00:07:22,430
次回は相関関係と因果関係の違いです

127
00:07:22,430 --> 00:07:24,330
お疲れ様でした

